<template>
  <div>
    <v-container fluid class="pt-8" :data="filterData">
      <v-row class="mt-1">
        <v-col cols="12">
          <v-card max-width="100%" class="d-none mt-n7 d-md-block" style="position:relative">
            <v-img
                max-height="50vh"
                src="https://images.wallpaperscraft.ru/image/burger_gamburger_chernyj_burger_sochnyj_116248_1920x1080.jpg"
                class="d-flex"
            >
              <v-icon class="ml-6 mt-4" large color="blue">
                mdi-heart-outline
              </v-icon>
            </v-img>
            <v-row>
              <v-col cols="5" class="mt-n4">
                <v-card-title class="black--text
                                ml-1 mt-3
                                font-weight-bold
                                text-lg-h2
                                text-md-h2
                                text-h2
                                name">
                  {{ info.name }}
                </v-card-title>
                <v-rating
                    class="ml-4 mb-5 mt-n4 "
                    color="yellow darken-3"
                    background-color="grey darken-1"
                    empty-icon="$ratingFull"
                    half-increments
                    hover
                ></v-rating>
                <v-row class="ml-2" align-center>
                  <v-card-subtitle class="black--text mb-8 font-weight-bold" style="font-size:32px;">
                    50% –°–∫–∏–¥–∫–∞
                  </v-card-subtitle>
                  <!--                                    <v-icon color="white" large class="ml-14">-->
                  <!--                                        mdi-heart-outline-->
                  <!--                                    </v-icon>-->
                </v-row>
                <v-card-text class="black--text ml-2 mt-n14">
                  <p>–ú–∞–∫ –¥–æ–Ω–∞–ª—å–¥—Å</p>
                  <p class="mt-n4">21.01.01 - 22.01.01</p>
                </v-card-text>
                <v-btn height="60px" width="300px" color="#1E88E5" style="font-size:24px;"
                       class="white--text ml-6 mt-n5 font-weight-bold">–í–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
                </v-btn>
              </v-col>
              <v-col
                  class="
                            d-none d-md-block
                            col-md-6
                            col-xs-12"
              >
                <h1 class="">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h1>
                <p>
                  - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ –º–æ–∂–Ω–æ –¥–æ 28.02, –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–æ 01.04.21
                  - –ü—Ä–æ–º–æ–∫–æ–¥ –¥–∞–µ—Ç –ø—Ä–∞–≤–æ –Ω–∞ —Å–∫–∏–¥–∫—É 50% –Ω–∞ –ø–∏—Ü—Ü—ã –∏ –∫–æ–º–ø–ª–µ–∫—Å—ã –æ—Ç "–ï–∂ –ü–∏—Ü—Ü–∞ & –ï–∂–µ–¥–Ω–µ–≤–Ω–∏–∫"

                  - –ê–∫—Ü–∏—è –¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É, –Ω–∞–≤—ã–Ω–æ—Å –∏ –≤ –∫–∞—Ñ–µ

                  - –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–∏—Ü—Ü:

                  - "–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞ NEW": 5,50 —Ä—É–±. 11 —Ä—É–±.

                  - "Mama Mia": 7,25 —Ä—É–±. 14,50 —Ä—É–±.

                  - "–° –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –æ–ø—è—Ç–∞–º–∏": 10,50 —Ä—É–±. 21 —Ä—É–±.

                  - "–¶—ã–ø–ª–µ–Ω–æ–∫ –î–æ—Ä–±–ª—é": 10,50 —Ä—É–±. 21 —Ä—É–±.

                  - –∫–æ–º–ø–ª–µ–∫—Å—ã:

                  üçï —Å–µ—Ç 1 (3 –ø–∏—Ü—Ü—ã): 15,50 —Ä—É–±. 31 —Ä—É–±.

                  üçï —Å–µ—Ç 2 (3 –ø–∏—Ü—Ü—ã): 25 —Ä—É–±. 50 —Ä—É–±.

                  üçï —Å–µ—Ç 3 (5 –ø–∏—Ü—Ü): 39 —Ä—É–±. 78 —Ä—É–±.

                  üçï —Å–µ—Ç 4 (4 –ø–∏—Ü—Ü—ã): 23,50 —Ä—É–±. 47 —Ä—É–±.

                  - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–∏—Ü—Ü –∏ –∫–æ–º–ø–ª–µ–∫—Å–æ–≤ —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∏–∂–µ

                  - –î–æ—Å—Ç–∞–≤–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 20 —Ä—É–±. –¥–ª—è –∑–µ–ª–µ–Ω–æ–π –∑–æ–Ω—ã –∏ –æ—Ç 40 —Ä—É–±. –¥–ª—è –∂–µ–ª—Ç–æ–π
                  –∑–æ–Ω—ã. –ü—Ä–∏ –º–µ–Ω—å—à–µ–π —Å—É–º–º–µ –∑–∞–∫–∞–∑–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ 5 —Ä—É–±. –ö–∞—Ä—Ç—É –∑–æ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏
                  —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∏–∂–µ

                  - –û–¥–∏–Ω –ø—Ä–æ–º–æ–∫–æ–¥ - –æ–¥–∏–Ω –∑–∞–∫–∞–∑ —Å–æ —Å–∫–∏–¥–∫–æ–π.
                </p>
              </v-col>
            </v-row>
          </v-card>
          <v-card max-width="100%" class="d-md-none">
            <v-img
                max-height="70vh"
                src="https://images.wallpaperscraft.ru/image/burger_gamburger_chernyj_burger_sochnyj_116248_1920x1080.jpg"
                class="d-flex"
            >
              <v-icon class="ml-6 mt-4" large color="blue">
                mdi-heart-outline
              </v-icon>
            </v-img>
            <v-col class="mt-1">
              <v-row justify="center">
                <v-card-title
                    class="black--text
                                font-weight-bold
                                text-lg-h1
                                text-md-h1
                                text-h2
                                name" style="">
                  {{ info.name }}
                </v-card-title>
              </v-row>


              <v-row justify="center">
                <v-rating
                    class="mt-n3"
                    color="yellow darken-3"
                    background-color="grey darken-1"
                    empty-icon="$ratingFull"
                    half-increments
                    size="20px"
                    hover
                ></v-rating>
              </v-row>
              <v-row justify="center">
                <v-card-subtitle class="black--text mr-1 font-weight-bold" style="font-size:32px;">
                  {{info.amountOfDiscount + " –°–∫–∏–¥–∫–∞"}}
                </v-card-subtitle>
              </v-row>
              <v-row align="center" justify="end">
                <v-card-text class="black--text ">
                  <v-row justify="center">
                    <p>{{info.company.description}}</p>
                  </v-row>
                  <v-row justify="center">
                    <p class="mt-n4">21.01.01 - 22.01.01</p>
                  </v-row>
                </v-card-text>
              </v-row>
              <v-row justify="center">
                <v-btn height="40px" width="200px" color="#1E88E5" style="font-size:16px;"
                       class="white--text mb-8 font-weight-bold">–í–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
                </v-btn>
              </v-row>
            </v-col>
          </v-card>
        </v-col>
      </v-row>
      <v-row>
        <v-col
            class="
                d-md-none
                col-xs-12
                ml-9"
        >
          <v-row justify="center" class="mb-2">
            <h1 class="">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h1>
          </v-row>
          <p>
            - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ –º–æ–∂–Ω–æ –¥–æ 28.02, –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–æ 01.03.21
            - –ü—Ä–æ–º–æ–∫–æ–¥ –¥–∞–µ—Ç –ø—Ä–∞–≤–æ –Ω–∞ —Å–∫–∏–¥–∫—É 50% –Ω–∞ –±–∞—Å–∫–µ—Ç—ã, —Å—Ç—Ä–∏–ø—Å—ã, —Ç–≤–∏—Å—Ç–µ—Ä—ã –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö "KFC"
            - –°—Ç–æ–∏–º–æ—Å—Ç—å –±–ª—é–¥:
            - –í 21 –∑–∞–≤–µ–¥–µ–Ω–∏–∏ –ú–∏–Ω—Å–∫–∞:
            - 2 —Ç–≤–∏—Å—Ç–µ—Ä–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö/–æ—Å—Ç—Ä—ã—Ö) + 2 –≥–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞–ø–∏—Ç–∫–∞ 0,5 –ª: 8,60 —Ä—É–±. 17,20 —Ä—É–±.
            - 2 –±–∞—Å–∫–µ—Ç –¥—É—ç—Ç–∞ (4 –Ω–æ–∂–∫–∏, 8 –∫—É—Ä–∏–Ω—ã—Ö –∫—Ä—ã–ª—ã—à–µ–∫, 8 —Å—Ç—Ä–∏–ø—Å–æ–≤, 4 –º–∞–ª. –∫–∞—Ä—Ç–æ—Ñ–µ–ª—è —Ñ—Ä–∏) + 2 —Å–æ—É—Å–∞ + 2
            –≥–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞–ø–∏—Ç–∫–∞ 0,5 –ª: 18,60 —Ä—É–±. 37,20 —Ä—É–±.
            - –ê–∫—Ü–∏—è –Ω–∞ –±–∞—Å–∫–µ—Ç –¥—É—ç—Ç –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å 11:00
            - –ê–∫—Ü–∏—è –Ω–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç –≤ –∫–∏–æ—Å–∫–∞—Ö —Å–∞–º–æ–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
            - –û–¥–∏–Ω –ø—Ä–æ–º–æ–∫–æ–¥ - –æ–¥–Ω–æ –∞–∫—Ü–∏–æ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–æ —Å–∫–∏–¥–∫–æ–π.
          </p>
        </v-col>
      </v-row>
      <v-row>
        <v-col cols="12" class="mb-10">
          <v-row justify="center" justify-md="start" class="mb-2 mt-2">
            <h1 class="mb-2 ml-9">–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è</h1>
          </v-row>
          <v-card max-width="100%">
            <v-img src="../../public/image1.png" height="60%"></v-img>
          </v-card>
        </v-col>
      </v-row>
    </v-container>
  </div>
</template>

<script>
import {mapActions, mapGetters} from "vuex";
import axios from "axios";
import AuthService from "@/services/auth.service";

const auth = new AuthService();
const moment = require('moment')
export default {
  name: "Detail",
  data: () => ({
    info: [],
    results: [],
    detailId:""
  }),

  props: {
    _id: {
      type: String,
      required: true
    }
  },

  methods: {
    ...mapActions(['getDiscountById']),
    detailView: function () {
      let self = this;
      const authorizationHeader = 'Authorization';
      auth.getAccessToken().then((userToken) => {
        if(self._id !== undefined){
          localStorage.detailId = self._id;
        }
        axios.defaults.headers.common[authorizationHeader] = `Bearer ${userToken}`;
        this.getDiscountById(localStorage.detailId)
            .catch((error) => {
              alert(error);
            });
      });
    },
    alertFunction: function () {
      let self = this;
      alert(self._id)
    }
  },
  // computed: {
  //   // ...mapGetters(["detailView"]),
  //   // filterData: function () {
  //   //   const arr = [];
  //   //   this.info = this.detailView;
  //   // arr.push(
  //   //     {
  //   //       id: info.id,
  //   //       service: info.name,
  //   //       vendor: info.company.name,
  //   //       amountOfDiscount: info.amountOfDiscount,
  //   //       startDate: moment(info.startDate.$date).format('L'),
  //   //       endDate: moment(info.endDate.$date).format('L'),
  //   //       rating: info.ratingTotal,
  //   //       description: info.description,
  //   //       tags: info.tags
  //   //     }
  //   // )
  //
  //   // this.results = arr;
  //   // return this.results;
  //
  //
  // },

  mounted: function () {
    this.detailView();
  },
  computed:{
    ...mapGetters(["getDetailView"]),
    filterData () {
      this.info = this.getDetailView;

    }
  },
}
</script>

<style scoped>

</style>